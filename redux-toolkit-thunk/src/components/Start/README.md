[На главную](../../../README.md)
# Start

Start - это компонент React, который предназначен для управления начальными параметрами приложения.

## Содержание
- [Описание](#Описание)
- [Сторонние библиотеки](#Сторонние-библиотеки)
- [Логика компонента](#Логика-компонента)
- [Примеры использования](#Примеры-использования)

## Описание
Компонент представляет собой кнопку, которая включает или отключает функцию сбора элементов из API. Также состояние кнопки (вкл/выкл) отслеживается и отображается на самой кнопке.

## Сторонние библиотеки
- `React`, `useEffect` - основная библиотека для создания пользовательского интерфейса и использования lifecycle Hooks;
- `useDispatch`, `useSelector` - React Hooks из библиотеки `react-redux`, позволяющие соединяться с Redux Store;
- `fetchItems`, `handleStartStop` - Thunk actions, экшены Redux предназначенные для сложных сайд-эффектов.

## Логика компонента
Сначала мы получаем доступ к Redux Store с помощью useSelector и useDispatch. `useSelector(selectIsStarted)` возвращает значение состояния `isStarted`. Это значение определяет, должен ли компонент начать или остановить процесс сбора данных.

`useEffect` отслеживает изменения `isStarted`. Когда `isStarted === true`, начинается интервал, который каждые 500 мс вызывает действие `fetchItems()` для получения элементов. Когда `isStarted === false`, интервал очищается.

Функция `handleSubmit` изменяет состояние `isStarted` при каждом нажатии кнопки.

## Примеры использования

### Пример импорта и использования в приложении:

```jsx
import { Start } from './Start/Start';

function App() {
  return (
    <div className="App">
        <Start />
    </div>
  );
}

export default App;
```
### Пример использования useEffect и обработчика нажатия:

Внутри компонента `Start` использован React useEffect Hook и обработчик нажатия для кнопки `button`:

```jsx
useEffect(() => {
        let newInterval;
        if (isStarted) {
            newInterval = setInterval(() => {
                dispatch(fetchItems());
            }, 500)
        }

        return () => {
            if (newInterval) {
                clearInterval(newInterval);
            }
        }
}, [dispatch, isStarted]);

<button
    onClick={handleSubmit}
    className={`start-button ${isStarted ? 'stop' : 'start'}`}>
        {isStarted ? 'stop' : 'start'}
</button>
```
---

При возникновении проблем или вопросов по использованию этого компонента, пожалуйста, обратитесь в службу поддержки.

## Обратите внимание

Все API-запросы в этом компоненте направлены на `http://localhost:3001/api/**`. Если ваш сервер работает на другом домене или порту, вам будет необходимо обновить эту настройку.